@model List<ProjectsBaseShared.Models.Project>
@{
    ViewBag.Title = "Home Page";
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-success alert-dismissable" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        @TempData["Message"]
    </div>
}

<div class="jumbotron">
    <h1>Here is an image for full width of the screen.</h1>
</div>

<div class="row mb-10">
    <div class="col-md-6">
        <h2>Participating in project</h2>
        <p>
            During busy season each auditor is trying to be as much productive as possible. Below You can find all available projects for upcoming season.
            Apply for those in which you are most interested in. If Your candidature will be accepted  by manager you will receive email with confirmation.
            Your available capacity can be checked in My Season tab.
        </p>
    </div>
    <div class="col-md-6">
        <h2>Creating project</h2>
        <p>
            Click Add project to complete information about project. Remember to check if client for which you are creating project is in your scope.
            To check application go to My projects tab.
        </p>
    </div>
</div>

@using (Html.BeginForm())
{
    <div class="row mb-10">
        @if (@Model != null && @Model.Count > 0) //TODO odwrotna kolejnosc na malym ekranie,Po migracji na bootstrap4 text na xs też ma być wycentrowany
        {
            <div class="col-md-6 mb-10 mt-10">
                <p>Search by name: @Html.TextBox("projectName") <input class="btn btn-default" type="submit" value="Search" /></p>
            </div>
            <div class="col-md-6">
                <div class="pull-right">
                    <a href="#" class="btn btn-primary btn-eac-main">Add project</a>
                </div>
            </div>
        }
        @if (@Model == null || @Model.Count == 0)
        {
            <div class="col-md-12">
                <div class="pull-right">
                    <a href="#" class="btn btn-primary btn-eac-main"><span class="glyphicon glyphicon-plus"></span> Add project</a>
                </div>
            </div>
        }
    </div>
}

<div class="row">
    <div class="col-md-12">
        @if (@Model != null && @Model.Count > 0)
        {
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col" class="hidden-xs">Starting Date</th>
                        <th scope="col" class="hidden-xs">Closing Date</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < @Model.Count; i++)
                    {
                        <tr>
                            <td>@(i + 1)</td>
                            <td>@Model[i].ProjectName</td>
                            <td class="hidden-xs">@Model[i].ProjectStartDate.ToShortDateString()</td>
                            <td class="hidden-xs">@Model[i].ProjectEndDate.ToShortDateString()</td>
                            <td><input class="btn-link" type="button" value="Details" onclick="location.href = '@Url.Action("ProjectDetails", new {id = @Model[i].ProjectId})'" /></td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        @if (@Model == null || @Model.Count == 0)
        {
            <div class="col-md-12 text-center">
                <h3>It seems that there aren't any open projects yet. Try again later.</h3>
            </div>
        }
    </div>
</div>